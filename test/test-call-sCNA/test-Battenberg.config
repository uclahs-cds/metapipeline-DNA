params {
    work_dir = '/scratch/\$SLURM_JOB_ID'
    save_intermediate_files = true
    patient = 'ILHNLNEV000002'
    project_id = 'HNSC0000016'
    sample_mode = 'paired'

    call_sCNA {
        subworkflow_cpus = 8
        algorithm = ['battenberg']
        sample_sex = "male"
        position_scale = "genome-position"
        dbSNP_file = "/hot/ref/tool-specific-input/RecSNV/GRCh38/dbsnp_b150_grch38.vcf.gz"
        battenberg_reference = "/hot/ref/tool-specific-input/Battenberg/download_202204/GRCh38/battenberg_ref_hg38_chr/"
        reference_dict = "/hot/ref/reference/GRCh38-BI-20160721/Homo_sapiens_assembly38.dict"
        }

    arg_map = [:]
    params.call_sCNA.each{ param_key, param_value -> {
            arg_map[param_key] = param_value
        }
    }
    params.call_sCNA.metapipeline_arg_map = arg_map
    params.pipeline_status_directory = "/scratch/${System.getenv('SLURM_JOB_ID')}/PIPELINESTATUSDIRECTORY"
    params.metapipeline_log_output_dir = "${params.output_dir}/log-test-call-sCNA"

    params.sample_data = [
        'ILHNLNEV000002-T001-P01-F': [
            'patient': 'ILHNLNEV000002',
            'state': 'tumor',
            'recalibrate-BAM': ['BAM':'/hot/project/disease/HeadNeckTumor/HNSC-000084-LNMEvolution/pipelines/call-gSNP/2020-12-22/ILHNLNEV000002-T001-P01-F/gSNP/2021-02-01_19.02.36/ILHNLNEV000002/SAMtools-1.10_Picard-2.23.3/recalibrated_reheadered_bam_and_bai/ILHNLNEV000002-T001-P01-F_realigned_recalibrated_reheadered.bam', 'contamination_table':'']
        ],
        'ILHNLNEV000002-N001-B01-F': [
            'patient': 'ILHNLNEV000002',
            'state': 'normal',
            'recalibrate-BAM': ['BAM':'/hot/project/disease/HeadNeckTumor/HNSC-000084-LNMEvolution/pipelines/call-gSNP/2020-12-22/ILHNLNEV000002-T001-P01-F/gSNP/2021-02-01_19.02.36/ILHNLNEV000002/SAMtools-1.10_Picard-2.23.3/recalibrated_reheadered_bam_and_bai/ILHNLNEV000002-N001-B01-F_realigned_recalibrated_reheadered.bam', 'contamination_table':'']
        ]
    ]

    params.pipeline_predecessor = [
        'call-gSNP': 'recalibrate-BAM',
        'call-gSV': 'recalibrate-BAM',
        'call-mtSNV': 'recalibrate-BAM',
        'call-sSNV': 'recalibrate-BAM',
        'call-sSV': 'recalibrate-BAM',
        'call-sCNA': 'recalibrate-BAM'
    ]
}
