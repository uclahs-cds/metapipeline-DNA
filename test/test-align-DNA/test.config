///// methods invocation ///////
import nextflow.util.SysHelper

methods {
    set_date = {
        def date = new Date().format('yyyyMMdd-HHmmss')
        params.date = "${date}"
    }
    setup = {
        methods.set_date()
        }
}
methods.setup()


params {
    output_dir = "/hot/users/agonzalez/008_pipeline-concatenation-DNA-pipelines/output/test-align-DNA/${params.date}"
    temp_dir = '/scratch'
    save_intermediate_files = true

    align_DNA {
        subworkflow_cpus = 8
        reference_fasta_bwa = '/hot/ref/tool-specific-input/BWA-MEM2-2.2.1/GRCh38-BI-20160721/index/genome.fa'
        aligner = ['BWA-MEM2']
        align_DNA_BWA_MEM2_cpus = 8
        run_SortSam_Picard_cpus = 1
        run_SortSam_Picard_memory_GB = 16
        run_MarkDuplicate_Picard_cpus = 1
        run_MarkDuplicate_Picard_memory_GB = 16
        run_MarkDuplicatesSpark_GATK_cpus = 16
        run_MarkDuplicatesSpark_GATK_memory_GB = 35
    }

    input_csv = "${projectDir}/input.csv"
}