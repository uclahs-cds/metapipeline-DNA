///// methods invocation ///////
import nextflow.util.SysHelper

methods {
    set_date = {
        def date = new Date().format('yyyyMMdd-HHmmss')
        params.date = "${date}"
    }
    setup = {
        methods.set_date()
        }
}
methods.setup()



params {
    output_dir =  "/hot/users/agonzalez/008_pipeline-concatenation-DNA-pipelines/output/test-call-gSNP/${params.date}"
    temp_dir = '/scratch'
    save_intermediate_files = true
    patient = 'TCEB1'
    project_id = 'test'

    call_gSNP {
        subworkflow_cpus = 16
        java_temp_dir = '/scratch'
        is_NT_paired = true
        // input_all_chromosomes_group_small_contigs = '/hot/pipeline/development/slurm/germline-somatic/downsampled_data/genome/hg38_chr22M_chromosomes_all.txt'
        // input_all_chromosomes_each_per_line = '/hot/pipeline/development/slurm/germline-somatic/downsampled_data/genome/hg38_chr22M_chromosomes_all_each_per_line.txt'
        reference_prefix = '/hot/ref/tool-specific-input/BWA-MEM2-2.2.1/GRCh38-BI-20160721/index/genome'
        bundle_mills_and_1000g_gold_standard_indels_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz"
        bundle_known_indels_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/Homo_sapiens_assembly38.known_indels.vcf.gz"
        bundle_v0_dbsnp138_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/resources_broad_hg38_v0_Homo_sapiens_assembly38.dbsnp138.vcf.gz"
        bundle_hapmap_3p3_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/hapmap_3.3.hg38.vcf.gz"
        bundle_omni_1000g_2p5_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/1000G_omni2.5.hg38.vcf.gz"
        bundle_phase1_1000g_snps_high_conf_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/1000G_phase1.snps.high_confidence.hg38.vcf.gz"
        bundle_contest_hapmap_3p3_vcf_gz = "/hot/ref/tool-specific-input/GATK/GRCh38/Biallelic/hapmap_3.3.hg38.BIALLELIC.PASS.2021-09-01.vcf.gz"
        max_number_of_parallel_jobs = 2
    }

    input_csv = "${projectDir}/input.csv"
}