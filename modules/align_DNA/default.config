// final String SAMPLE = 'name_of_sample_with_no_spaces'
params {
    // sample inputs
    // sample_name = SAMPLE
    // input_csv = "path/to/input/${SAMPLE}.csv"
   
    // BWA-MEM2 files
    // reference_fasta_bwa = "/path/to/bwa/fasta/genome.fa"

    // HISAT2 files
    // reference_fasta_hisat2 = "/path/to/hisat2/fasta/genome.fa"
    // hisat2_index_prefix = "/path/to/fasta/hisat2/index/index_basename"
 
    // select aligner/s in list format (Current Options: BWA-MEM2, HISAT2)
    // aligner = ["BWA-MEM2"]

    // This is only used when `params.blcds_registered_dataset_output` is set to true
    // TODO: should add a validation for genome versions
    // reference_genome_version = "genome_version"

    // input/output locations
    // output_dir = "where/to/save/outputs/${SAMPLE}"
    // temp_dir = "/local/disk/for/temp/file/dir/"

    // options
    save_intermediate_files = false
    cache_intermediate_pipeline_steps = false

    // set to true if the data input fastq files are registered in the Boutros Lab.
    blcds_registered_dataset_input = false
    // set to true to redirect output files directly to the Boutros Lab data storage.
    blcds_registered_dataset_output = false

    // uncomment the following in order to save output bam and log directly to blcds data storage
    // blcds_cluster_slurm = true
    // blcds_disease_id = "disease_id"
    // blcds_dataset_id = "dataset_id"
    // blcds_patient_id = "patient_id"
    // blcds_sample_id  = "sample_id"
    // blcds_analyte = "DNA"
    // blcds_technology = "WGS"
    // blcds_mount_dir = "/data"

    check_node_config = false

    align_DNA_BWA_MEM2_cpus = 56
    align_DNA_HISAT2_cpus = 56
    run_SortSam_Picard_cpus = 1
    run_SortSam_Picard_memory_GB = 10.GB
    run_MarkDuplicate_Picard_cpus = 1
    run_MarkDuplicate_Picard_memory_GB = 10.GB
    run_BuildBamIndex_Picard_cpus = 1
    run_BuildBamIndex_Picard_memory_GB = 4.GB
}

params.aligner = params.aligner.split(',')

// Set output diraction and filenames for bam and log files.
// DO NOT MODIFY
includeConfig "${projectDir}/config/methods.config"
methods.setup()

process {
    withName: run_validate {
        cpus = 1
        memory = 1.GB
    }
    withName: Generate_Sha512sum {
        cpus = 1
        memory = 1.GB
    }
    withName: align_DNA_BWA_MEM2 {
        cpus = params.align_DNA_BWA_MEM2_cpus
    }
    withName: align_DNA_HISAT2 {
        cpus = params.align_DNA_HISAT2_cpus
    }
    withName: run_SortSam_Picard {
        cpus = params.run_SortSam_Picard_cpus
        memory = params.run_SortSam_Picard_memory_GB
    }
    withName: run_MarkDuplicate_Picard {
        cpus = params.run_MarkDuplicate_Picard_cpus
        memory = params.run_MarkDuplicate_Picard_memory_GB
    }
    withName: run_BuildBamIndex_Picard {
        cpus = params.run_BuildBamIndex_Picard_cpus
        memory = params.run_BuildBamIndex_Picard_memory_GB
    }
}