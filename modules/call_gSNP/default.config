// Set up output log directory
includeConfig "${projectDir}/methods.config"

manifest {
    name = "pipeline-call-gSNP"
    mainScript = "call-gSNP.nf"
    nextflowVersion = ">=20.07.1"
    author = ["Shu Tao", "Stefan Eng"]
    description = "Nextflow pipeline to call germline short variants in single or normal-tumour paired mode"
    version = "6.0.0"
    homePage = 'https://github.com/uclahs-cds/pipeline-call-gSNP'
}

params {
    // Set up output directory
      dataset_id = '' // Placeholder for now
      blcds_registered_dataset = false // Set to true when using BLCDS folder structure; use false for now
      avere_prefix = "/hot/data/" // For slurm "/hot/data"
      output_dir = "" // Need to set if blcds_registered_dataset = false
      java_temp_dir = "" // Use /scratch for java temp files
      temp_dir = "" // Use /scratch as Nextflow workDir
      save_intermediate_files = false // Set to false to disable the publish rule
      is_emit_original_quals = true // Set to true by default to emit original qualities

    // Sample info
      input_csv = ""
      is_NT_paired = true // Set to true for normal-tumour paired mode, and to false for normal only mode
      is_DOC_run = false // Set to true to run GATK4 DepthOfCoverage, which is very time-consuming for large BAM

    // hg38 decoy: All 3366 chromosomes names: group small contigs into one line and make each chromosome name per line
      input_all_chromosomes_group_small_contigs = "" // E.g., /hot/users/shutao/pipeline-call-gSNP/nf/normal/mini/inputs/HG002.N.mini/hg38_decoy_chromosomes_all.txt
      input_all_chromosomes_each_per_line = "/path/to/all_chromosomes_each_per_line" // E.g., /hot/users/shutao/pipeline-call-gSNP/nf/normal/mini/inputs/HG002.N.mini/hg38_decoy_chromosomes_all_each_per_line.txt
    // Target for targeted exome - commented out for WGS
      target_chromosomes = '' // Absolute path to targeted exome interval file (with .interval_list, .list, .intervals, or .bed suffix); otherwise 'is_targeted' in the main script will be set to false.


    // Reference - Used here hg38 decoy version
      reference_prefix = "/path/to/genome"

    // GATK bundle - Used here hg38 decoy version
      bundle_mills_and_1000g_gold_standard_indels_vcf_gz = "/path/to/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz"
      bundle_known_indels_vcf_gz = "/path/to/Homo_sapiens_assembly38.known_indels.vcf.gz"
      bundle_v0_dbsnp138_vcf_gz = "/path/to/resources_broad_hg38_v0_Homo_sapiens_assembly38.dbsnp138.vcf.gz"
      bundle_hapmap_3p3_vcf_gz = "/path/to/hapmap_3.3.hg38.vcf.gz"
      bundle_omni_1000g_2p5_vcf_gz = "/path/to/1000G_omni2.5.hg38.vcf.gz"
      bundle_phase1_1000g_snps_high_conf_vcf_gz = "/path/to/1000G_phase1.snps.high_confidence.hg38.vcf.gz"
      bundle_contest_hapmap_3p3_vcf_gz = "/path/to/hapmap_3.3.hg38.BIALLELIC.PASS.vcf.gz"

    // Resource configuraton for entire pipeline
      max_number_of_parallel_jobs = 20 // Recommend 20 for WGS mode, and 2 for targeted exome mode.
}

// See methods.config
methods.setup()
